{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}

{% for message in get_flashed_messages() %}

<div class="alert alert-success alert-dismissible">
    {{ message }}
    <button type="button" class="close" data-dismiss="alert">&times;</button>
</div>

{% endfor %}

<div class="container my-auto myShadow bg-light mt-4 p-4">
    <strong>Name:</strong>
    {{ current_user.name }}<br />

    <strong>Username:</strong>
    {{ current_user.username }}<br />

    <strong>User Id:</strong>
    {{ current_user.id }}<br />

    <strong>Email:</strong>
    {{ current_user.email }}<br />

    <strong>Date Joined:</strong>
    {{ current_user.date_added }}<br />
    <br>
    <a href="{{ url_for('logout')}}" class="btn btn-secondary btn-sm">Logout</a>

    <a href="{{ url_for('Dashboard', id=current_user.id)}}" class="btn btn-secondary btn-sm">Update Profile</a>

    <a href="{{ url_for('delete', id=current_user.id)}}" class="btn btn-danger btn-sm">Delete</a>
    <br />
</div>

<br> <br>

<div class="container">
    <div class="card">
        <div class="card-header">
            Update Profile
        </div>
        <div class="card-body">

            <form action="/Dashboard" method="POST" enctype="multipart/form-data">
                {{ form.hidden_tag() }}

                {{ form.name.label(class="form-label") }}

                {{ form.name(class="form-control", value=name_to_update.name) }}
                <br />

                {{ form.username.label(class="form-label") }}

                {{ form.username(class="form-control", value=name_to_update.username) }}
                <br />

                {{ form.email.label(class="form-label") }}

                {{ form.email(class="form-control", value=name_to_update.email) }}
                <br />

                {{ form.submit(class="btn btn-secondary btn-sm") }}

            </form>

        </div>
    </div>
</div>
{% endblock %}